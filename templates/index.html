<!DOCTYPE html>
<html lang="en-CA">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Track all upcoming TSX dividend stocks in Canada. Get ex-dividend dates, payment dates, yields (2024) for Toronto Stock Exchange listed companies.">
    <meta name="keywords" content="TSX dividends, Canadian dividend stocks, ex-dividend dates, stock payouts, high yield stocks Canada, Toronto Stock Exchange dividends">
    <meta name="author" content="TritonX Inc.">
    
    <!-- Canonical & Open Graph Tags -->
    <meta property="og:title" content="TSX Dividend Tracker | Upcoming Canadian Stock Payouts (2024)">
    <meta property="og:description" content="Comprehensive list of all upcoming TSX dividend payments with ex-dates and yields.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_CA">

    <!-- Structured Data for Stocks -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "TSX Dividend Tracker",
      "description": "Track upcoming dividend payments for Toronto Stock Exchange (TSX) listed companies",
      "applicationCategory": "FinancialApplication",
      "operatingSystem": "Web",
      "keywords": ["TSX", "dividends", "Canada", "stocks", "investing"]
    }
    </script>

    <title>TSX Dividend Tracker | Upcoming Canadian Stock Payouts (2024)</title>
    
    <!-- Preload CSS -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style">
    <link rel="preload" href="{{ url_for('static', filename='styles.css') }}" as="style">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container-fluid py-3">
        <!-- Header with H1 and semantic HTML5 -->
        <header class="row mb-4" role="banner">
            <div class="col-12 text-center">
                <h1 class="display-5 fw-bold text-primary">
                    <i class="bi bi-cash-stack" aria-hidden="true"></i> TSX Dividend Tracker (2024)
                </h1>
                <p class="text-muted">Comprehensive list of upcoming dividend payments on Toronto Stock Exchange (TSX) listed companies</p>
            </div>
        </header>

        <!-- Main Content -->
        <main role="main">
            <!-- Control Panel -->
            <section class="control-panel mb-4" aria-label="Stock filters">
                <!-- ... (your existing control panel code) ... -->
            </section>

            <!-- Content Header with Schema.org markup -->
            <section class="content-header mb-3" itemscope itemtype="https://schema.org/FinancialProduct">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h2 id="timeframe-title" class="h5 mb-0" itemprop="name">All Upcoming TSX Dividend Stocks</h2>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <div class="text-muted small" id="last-updated" itemprop="dateUpdated">
                            <i class="bi bi-clock-history" aria-hidden="true"></i> Updated: <span id="update-time">Loading...</span>
                        </div>
                    </div>
                </div>
                
                <!-- Status Indicators -->
                <div class="row mt-2">
                    <div class="col-12">
                        <div class="d-flex flex-wrap gap-2 justify-content-center justify-content-md-start">
                            <span class="badge bg-primary">Upcoming</span>
                            <span class="badge bg-warning">Soon (≤3d)</span>
                            <span class="badge bg-danger">Today</span>
                            <span class="d-flex align-items-center">
                                <span class="high-yield-indicator me-1" aria-hidden="true"></span>
                                High Yield (>5%)
                            </span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stocks Table with ARIA labels -->
            <section class="stocks-table-section mb-4" aria-label="Dividend stocks list">
                <div class="card shadow-sm">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0" id="stocks-table" aria-describedby="table-description">
                                <caption id="table-description" class="visually-hidden">List of TSX stocks with upcoming dividend payments including symbol, company name, ex-dividend date, and payment amount</caption>
                                <thead class="table-light">
                                    <tr>
                                        <th scope="col" class="ps-3">Symbol</th>
                                        <th scope="col">Company</th>
                                        <th scope="col">Sector</th>
                                        <th scope="col">Ex-Date</th>
                                        <th scope="col">Payable Date</th>
                                        <th scope="col" class="text-end">Price (CAD)</th>
                                        <th scope="col" class="text-end">Yield</th>
                                        <th scope="col" class="text-end">Amount (CAD)</th>
                                        <th scope="col">Frequency</th>
                                    </tr>
                                </thead>
                                <tbody id="stocks-data">
                                    <!-- Filled by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer with semantic markup -->
        <footer class="mt-5 pt-4 pb-3 bg-light text-center text-muted small border-top" role="contentinfo">
            <div class="container">
                <p class="mb-1">
                    <strong>Data Accuracy:</strong> Dividend information is updated hourly from TMX Money and company filings.
                </p>
                <p class="mb-1">
                    © <span id="current-year"></span> TSX Dividend Tracker by <a href="/about" class="text-decoration-none">TritonX Inc.</a> - 
                    <a href="/privacy" class="text-decoration-none">Privacy Policy</a> | 
                    <a href="/disclaimer" class="text-decoration-none">Disclaimer</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- Lazy load JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script defer src="{{ url_for('static', filename='scripts.js') }}"></script>
    
    <!-- Dynamic Year -->
    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>